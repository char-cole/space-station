(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},29:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(20),c=n.n(r),l=n(8),i=n(9),s=n(11),u=n(10),m=n(12),g=(n(18),n(3)),p=function(e){var t=e.allProjections.map(function(t,n){return t.geo!==e.selectedProjection.geo?a.a.createElement("button",{className:"btn btn-block btn-secondary my-1",key:n,onClick:function(){return e.changeProjection(t)}},t.name," Projection"):null});return a.a.createElement("div",null,t)},d=n(28),h=n(24),f=n.n(h),v=n(25),b=n.n(v);function y(e,t){return function(n){fetch("http://api.open-notify.org/iss-pass.json?lat="+e+"&lon="+t).then(function(e){return e.json()}).then(function(o){console.log(o);var a=new Date(1e3*o.response[0].risetime),r=new Date(1e3*(o.response[0].risetime+o.response[0].duration)),c={hours:a.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),minutes:a.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),seconds:a.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),day:a.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),month:a.getMonth()+1,year:a.getFullYear()},l={hours:r.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),minutes:r.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),seconds:r.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),day:r.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),month:r.getMonth()+1,year:r.getFullYear()},i=c.year+"/"+c.month.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+"/"+c.day+" "+c.hours+":"+c.minutes+":"+c.seconds;console.log("date string: "+i);var s=b()(a);console.log(s);var u=f()(i,s,-5,"YYYY/MM/DD HH:mm:ss");console.log("new date: "+u);var m={loaded:!0,lat:e,long:t,hr:c.hours,min:c.minutes.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),sec:c.seconds.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),day:c.day,mon:c.month,endHr:l.hours.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),endMin:l.minutes.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),endSec:l.seconds.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),endDay:l.day,endMon:l.month};console.log(m),n(function(e){return{type:"FLYOVER_LOADED",value:e}}(m))}).catch(function(e){return console.error("Caught error: ",e)})}}var j=Object(g.b)(function(e){return{selectedProjection:e.selectedProjection,allProjections:e.allProjections}},function(e){return{changeProjection:function(t){e(function(e){return{type:"PROJECTION_CHANGED",value:e}}(t))}}})(p),E=n(0),O=n(14),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"projection",value:function(e){var t=this;return{geoHill:function(){return Object(O.a)().scale(100).translate([400,225])},geoOrthographic:function(){return Object(E.o)().scale(200).translate([400,225]).rotate(((e=t.props.current.longLat)[0]?e[0]<-45?[90,0]:e[0]>45&&e[0]<135?[-90,0]:e[0]>=135?[-180,0]:[0,0]:[0,0])||[0,0]);var e},geoNaturalEarth1:function(){return Object(E.n)().scale(100).translate([400,225])},geoAzimuthalEqualArea:function(){return Object(E.a)().scale(100).translate([400,225]).rotate([0,-90])},geoConicEqualArea:function(){return Object(E.g)().scale(100).translate([400,225])},geoMercator:function(){return Object(E.m)().scale(100).translate([400,225])}}[e]()}},{key:"render",value:function(){return this.props.current.loaded?a.a.createElement("circle",{cx:this.projection(this.props.selectedProjection.geo)(this.props.current.longLat)[0],cy:this.projection(this.props.selectedProjection.geo)(this.props.current.longLat)[1],r:5,fill:"#E91E63",className:"marker"}):null}}]),t}(o.Component),w=Object(g.b)(function(e){return{current:e.current,selectedProjection:e.selectedProjection}})(L),D=function(e){var t;t=e.current.loaded?e.current.longLat:[0,0];var n=function(e){return{geoHill:function(){return Object(O.a)().scale(100).translate([400,225])},geoOrthographic:function(){return Object(E.o)().scale(200).translate([400,225]).rotate((e=t)[0]?e[0]<-45?[90,0]:e[0]>45&&e[0]<135?[-90,0]:e[0]>=135?[-180,0]:[0,0]:[0,0]);var e},geoNaturalEarth1:function(){return Object(E.n)().scale(100).translate([400,225])},geoAzimuthalEqualArea:function(){return Object(E.a)().scale(100).translate([400,225]).rotate([0,-90])},geoConicEqualArea:function(){return Object(E.g)().scale(100).translate([400,225])},geoMercator:function(){return Object(E.m)().scale(100).translate([400,225])}}[e]()};return e.cities.map(function(t,o){var r=[t.long,t.lat],c=function(){return a.a.createElement("circle",{key:o,cx:n(e.selectedProjection.geo)(r)[0],cy:n(e.selectedProjection.geo)(r)[1],r:5,fill:"white",className:"marker"})};return"geoOrthographic"!==e.selectedProjection.geo?c():e.current.loaded?e.current.longLat[0]>=45&&e.current.longLat[0]<135?t.long>=45&&t.long<135?c():null:e.current.longLat[0]>=135?t.long>=135?c():null:e.current.longLat[0]<-45?t.long<-45?c():null:t.long>=-45&&t.long<45?c():null:t.long>=-45&&t.long<45?c():null})},N=Object(g.b)(function(e){return{cities:e.buttons,selectedProjection:e.selectedProjection,current:e.current}})(D),S=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"graticule",value:function(e){Object(E.p)().projection(e)(Object(E.k)().step([10,10])())}},{key:"projection",value:function(e){var t=this;return{geoHill:function(){return Object(O.a)().scale(100).translate([400,225])},geoOrthographic:function(){return Object(E.o)().scale(200).translate([400,225]).rotate((e=t.props.current.longLat||[0,0])[0]?e[0]<-45?[90,0]:e[0]>45&&e[0]<135?[-90,0]:e[0]>=135?[-180,0]:[0,0]:[0,0]);var e},geoNaturalEarth1:function(){return Object(E.n)().scale(100).translate([400,225])},geoAzimuthalEqualArea:function(){return Object(E.a)().scale(100).translate([400,225]).rotate([0,-90])},geoConicEqualArea:function(){return Object(E.g)().scale(100).translate([400,225])},geoMercator:function(){return Object(E.m)().scale(100).translate([400,225])}}[e]()}},{key:"componentDidMount",value:function(){this.props.getMap()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{onClick:function(){return e.props.loadCurrent()}},a.a.createElement("svg",{width:800,height:450,viewBox:"0 0 800 450"},a.a.createElement("g",{className:"countries"},this.props.worldData.map(function(t,n){return a.a.createElement("path",{key:"path-".concat(n),d:Object(E.p)().projection(e.projection(e.props.selectedProjection.geo))(t),className:"country",fill:"rgba(38,250,56,".concat(1/e.props.worldData.length*n+.1,")"),stroke:"#FFFFFF",strokeWidth:.5})})),a.a.createElement("g",{className:"markers"},a.a.createElement(N,null),a.a.createElement(w,null))))}}]),t}(o.Component),k=Object(g.b)(function(e){return{worldData:e.worldData,selectedProjection:e.selectedProjection,current:e.current}},function(e){return{getMap:function(){e(function(e){fetch("https://unpkg.com/world-atlas@1/world/110m.json").then(function(t){200===t.status?t.json().then(function(t){e({type:"MAP_LOADED",value:Object(d.a)(t,t.objects.countries).features})}):console.log("There was a problem: ".concat(t.status))}).catch(function(e){return console.error("Caught error: ",e)})})},loadCurrent:function(){e(function(e){fetch("http://api.open-notify.org/iss-now.json").then(function(t){200===t.status?t.json().then(function(t){var n={loaded:!0,longLat:[parseFloat(t.iss_position.longitude),parseFloat(t.iss_position.latitude)]};console.log(n.longLat),e({type:"CURRENT_LOADED",value:n})}):console.log("There was a problem: ".concat(t.status))}).catch(function(e){return console.error("Caught error: ",e)})})}}})(S),P=function(e){return a.a.createElement("div",null,a.a.createElement("button",{className:"btn btn-block btn-outline-light","data-toggle":"collapse","data-target":"#info-collapse"},a.a.createElement("h4",{className:"m-0"},e.selectedProjection.name,a.a.createElement("i",{className:"ml-4 fas fa-caret-down"}))),a.a.createElement("div",{class:"collapse show",id:"info-collapse"},a.a.createElement("small",{className:"text-white px-3 py-2 collapse show"},e.selectedProjection.desc)))},A=Object(g.b)(function(e){return{selectedProjection:e.selectedProjection}})(P),C=function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("h2",{className:"text-white px-5 py-2"},"ISS Tracking Map")),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12 col-md-3"},a.a.createElement(A,null),a.a.createElement(j,null)),a.a.createElement("div",{className:"col-12 col-md-9"},a.a.createElement(k,null))))},_=function(e){var t=e.buttons.map(function(t,n){return a.a.createElement("div",{key:n},a.a.createElement("button",{className:"locButton btn btn-secondary",onClick:function(){return e.loadFlyover(t.lat,t.long)}},t.name,",",a.a.createElement("br",null),t.country))});return a.a.createElement("div",{className:"d-flex flex-row"},t)},M=Object(g.b)(function(e){return{flyover:e.flyover,buttons:e.buttons}},function(e){return{loadFlyover:function(t,n){e(y(t,n))}}})(_),T=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.flyover.loaded?a.a.createElement("div",{className:"text-white"},a.a.createElement("p",null,a.a.createElement("i",null,"from"),a.a.createElement("span",{className:"font-weight-bold large-text"},"\xa0",this.props.flyover.hr,":",this.props.flyover.min,":",this.props.flyover.sec,"\xa0"),a.a.createElement("i",null,"until"),a.a.createElement("span",{className:"font-weight-bold large-text"},"\xa0",this.props.flyover.endHr,":",this.props.flyover.endMin,":",this.props.flyover.endSec,"\xa0"),"(Central Daylight Time)",a.a.createElement("i",null,"\xa0on"),a.a.createElement("span",{className:"font-weight-bold large-text"},"\xa0",this.props.flyover.mon,"/",this.props.flyover.day),a.a.createElement("br",null),a.a.createElement("i",null,"Location:\xa0"),a.a.createElement("span",{className:"font-weight-bold large-text"},"\xa0",this.props.flyover.lat,", ",this.props.flyover.long))):null}}]),t}(o.Component),U=Object(g.b)(function(e){return{flyover:e.flyover}})(T),G=function(e){return a.a.createElement("div",{id:"test",className:"row"},a.a.createElement("div",{className:"col-12 col-md-3 d-flex flex-column justify-content-around"},a.a.createElement("input",{type:"number",name:"Latitude",min:"-90",max:"90",step:"0.00000001",value:e.inputLat,onChange:function(t){return e.updateLat(t.target.value)}}),a.a.createElement("input",{type:"number",name:"Longitude",step:"0.00000001",value:e.inputLong,onChange:function(t){return e.updateLong(t.target.value)}}),a.a.createElement("button",{className:"btn btn-light",onClick:function(t,n){if(e.inputLat>=-90&&e.inputLat<=90&&e.inputLong>=-180&&e.inputLong<=180)return e.loadFlyover(e.inputLat,e.inputLong);alert("Latitude can only be between -90 and 90. Longitude can only be between -180 and 180.")}},"Update Coordinates")),a.a.createElement("div",{className:"col-12 col-md-9"},a.a.createElement(U,null)))},I=Object(g.b)(function(e){return{flyover:e.flyover,inputLat:e.inputLat,inputLong:e.inputLong}},function(e){return{loadFlyover:function(t,n){e(y(t,n))},updateLat:function(t){e({type:"LAT_UPDATED",value:t})},updateLong:function(t){e({type:"LONG_UPDATED",value:t})}}})(G),x=function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("h2",{className:"text-white px-5 py-2"},"When will the ISS be overhead next?")),a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12"},a.a.createElement(I,null)),a.a.createElement("div",{className:"col-12"},a.a.createElement(M,null))))},z=n(43),F=n(45),H=n(44),q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(z.a,null,a.a.createElement("div",null,a.a.createElement("div",{id:"wrapper"},a.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top",role:"navigation"},a.a.createElement("a",{href:"/"},"Home"),a.a.createElement("a",{href:"/flyover"},"Flyover")),a.a.createElement("div",{style:{backgroundColor:"black"}},a.a.createElement(F.a,null,a.a.createElement(H.a,{path:"/flyover",component:x}),a.a.createElement(H.a,{path:"/",component:C}))))))}}]),t}(o.Component);var R=Object(g.b)(null,function(e){return{loadFlyover:function(){e(y())}}})(q),Y=(n(40),n(13));var B=Object(Y.c)({flyover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"FLYOVER_LOADED"===t.type?t.value:e},inputLat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"LAT_UPDATED"===t.type?t.value:e},inputLong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"LONG_UPDATED"===t.type?t.value:e},buttons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"BUTTONS_LOADED"===t.type?t.value:e},worldData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"MAP_LOADED"===t.type?t.value:e},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"CURRENT_LOADED"===t.type?t.value:e},selectedProjection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"PROJECTION_CHANGED"===t.type?t.value:e},allProjections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return arguments.length>1&&arguments[1],e},cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return arguments.length>1&&arguments[1],e}}),J=n(27),V=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Y.d)(Object(Y.a)(J.a)),X=Object(Y.e)(B,{current:{},worldData:[],selectedProjection:{geo:"geoMercator",name:"Mercator",desc:"One of the most common projections for general use, created in 1569 by Gerardus Mercator. All lines of latitude and longitude are straight. This makes navigation easy, but makes land closer to the poles look much larger than it really is. Notice the size of Greenland compared to the entire continent of Africa!"},allProjections:[{geo:"geoMercator",name:"Mercator",desc:"One of the most common projections for general use, created in 1569 by Gerardus Mercator. All lines of latitude and longitude are straight. This makes navigation easy, but makes land closer to the poles look much larger than it really is. Notice the size of Greenland compared to the entire continent of Africa!"},{geo:"geoNaturalEarth1",name:"Natural Earth",desc:"A projection design in 2012 by Tom Patterson. Directions and sizes are slightly distorted to create a map that is easy to look at and keeps sizes fairly accurate."},{geo:"geoHill",name:"Hill Eucyclic",desc:"A kidney-shaped projection made by Karl Hill in 1958. This projection is equal-area, meaning the size of each country is accurate, but shapes are distorted. Notice how small Greenland actually is compared to Africa!"},{geo:"geoAzimuthalEqualArea",name:"Azimuthal",desc:"Azimuthal projections keep accurate azimuth, meaning direction from the center of the projection. In this projection, the center is the north pole. The south pole is drsatically stretched out around the entire outer edge!"},{geo:"geoOrthographic",name:"Orthographic",desc:"Orthographic projections greatly distort distance as one moves away from the center point, completely cutting off the projection 180 degrees from the center in all directions. The result appears just as the Earth would if the viewer were in space directly over the center of the projection (in this app, a point on the equator), but can't display the entire Earth at once. This app rotates the projection to ensure the location of the ISS is always displayed near the center."},{geo:"geoConicEqualArea",name:"Conic",desc:"Conic projections are shaped like a cone unrolled and laid out flat. Conic proejctions centered on the north pole, as this one is, can be very useful for countries or regions in middle latitudes in the northern hemisphere. However, distance is more distorted near the equator, and in the opposite hemisphere (southern in this app) the projection becomes very difficult to use."}],flyover:{},inputLat:"",inputLong:"",buttons:[{name:"S\xe3o Paulo",timezone:-2,lat:-23.55,long:-46.633333,country:"Brazil"},{name:"Lagos",timezone:1,lat:6.455027,long:3.384082,country:"Nigeria"},{name:"Dhaka",timezone:6,lat:23.7,long:90.366667,country:"Bangladesh"},{name:"Beijing",timezone:8,lat:39.916667,long:116.383333,country:"China"},{name:"New York",timezone:-5,lat:40.7127,long:-74.0059,country:"USA"},{name:"Moscow",timezone:3,lat:55.75,long:37.616667,country:"Russia"}]},V);c.a.render(a.a.createElement(g.a,{store:X},a.a.createElement(R,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.e6e4a7a2.chunk.js.map